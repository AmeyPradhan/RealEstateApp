<!DOCTYPE html>
<html>
<head>
    <title>Real Estate Web App</title>
</head>
<body>
    <h1>Welcome to the Real Estate Web App</h1>

    <!-- Budget Form -->
    <form method="post" action="/">
        <label for="budget">Enter your budget:</label>
        <input type="text" id="budget" name="budget">
        <button type="submit">Submit</button>
    </form>

    <!-- Results Section (Shown after submission) -->
    {% if data %}
    <h2>Filtered Results</h2>
    <form method="post" action="/filter_projects">
        <input type="hidden" name="budget" value="{{ budget }}">
        <label for="project_name">Select Project Name:</label>
        <select id="project_name" name="project_name">
            {% for project in projects %}
            <option value="{{ project }}">{{ project }}</option>
            {% endfor %}
        </select>
        <button type="submit">Show Carpet Sizes</button>
    </form>

    <!-- Display Filtered Results -->
    <table border="1">
        <thead>
            <tr>
                <th>Project Name</th>
                <th>Configuration</th>
                <th>Carpet Size</th>
                <th>Quoting Price</th>
                <th>Possession Date</th>
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
            <tr>
                <td>{{ row['Project Name'] }}</td>
                <td>{{ row['Configuration'] }}</td>
                <td>{{ row['Carpet Size'] }}</td>
                <td>{{ row['Quoting Price'] }}</td>
                <td>{{ row['Possession Date'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</body>
</html>
